import { forwardRef } from '@angular/core';
import { Object3D } from 'three';
import { ThCamera } from './generated/ThCamera';
import { ThObject3D } from './generated/ThObject3D';
export function createThProviderArray(cls, baseCls) {
    const providers = [];
    if (ThObject3D.isPrototypeOf(baseCls) || Object3D === baseCls) {
        providers.push({ provide: ThObject3D, useExisting: forwardRef(() => cls) });
        if (ThCamera.isPrototypeOf(baseCls) || ThCamera === baseCls) {
            providers.push({ provide: ThCamera, useExisting: forwardRef(() => cls) });
        }
    }
}
/**
 * usage:
 *
 * @Component({
 *  providers: createObj3DProviderArray(forwardRef(() => TheComponent)))
 * })
 * export class TheComponent {
 * ...
 * }
 * @param type the Object3D derived Class to be provided
 */
export function createObj3DProviderArray(type) {
    return [{ provide: ThObject3D, useExisting: forwardRef(() => type) }];
}
export function createCameraProviderArray(type) {
    return [
        { provide: ThObject3D, useExisting: forwardRef(() => type) },
        { provide: ThCamera, useExisting: forwardRef(() => type) }
    ];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtdGhyZWUvc3JjL2xpYi9jb21wb25lbnQuaGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFrQixNQUFNLGVBQWUsQ0FBQztBQUMzRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ2pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFcEQsTUFBTSxVQUFVLHFCQUFxQixDQUFDLEdBQXNCLEVBQUUsT0FBMEI7SUFDdEYsTUFBTSxTQUFTLEdBQWUsRUFBRSxDQUFDO0lBQ2pDLElBQUksVUFBVSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxRQUFRLEtBQUssT0FBTyxFQUFFLENBQUM7UUFDOUQsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFNUUsSUFBSSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLFFBQVEsS0FBSyxPQUFPLEVBQUUsQ0FBQztZQUM1RCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM1RSxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRDs7Ozs7Ozs7OztHQVVHO0FBQ0gsTUFBTSxVQUFVLHdCQUF3QixDQUFDLElBQWU7SUFDdEQsT0FBTyxDQUFDLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN4RSxDQUFDO0FBRUQsTUFBTSxVQUFVLHlCQUF5QixDQUFDLElBQWU7SUFDdkQsT0FBTztRQUNMLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzVELEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0tBQzNELENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yd2FyZFJlZiwgUHJvdmlkZXIsIFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9iamVjdDNEIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgVGhDYW1lcmEgfSBmcm9tICcuL2dlbmVyYXRlZC9UaENhbWVyYSc7XG5pbXBvcnQgeyBUaE9iamVjdDNEIH0gZnJvbSAnLi9nZW5lcmF0ZWQvVGhPYmplY3QzRCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUaFByb3ZpZGVyQXJyYXkoY2xzOiBJbnN0YW5jZVR5cGU8YW55PiwgYmFzZUNsczogSW5zdGFuY2VUeXBlPGFueT4pIHtcbiAgY29uc3QgcHJvdmlkZXJzOiBQcm92aWRlcltdID0gW107XG4gIGlmIChUaE9iamVjdDNELmlzUHJvdG90eXBlT2YoYmFzZUNscykgfHwgT2JqZWN0M0QgPT09IGJhc2VDbHMpIHtcbiAgICBwcm92aWRlcnMucHVzaCh7IHByb3ZpZGU6IFRoT2JqZWN0M0QsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IGNscykgfSk7XG5cbiAgICBpZiAoVGhDYW1lcmEuaXNQcm90b3R5cGVPZihiYXNlQ2xzKSB8fCBUaENhbWVyYSA9PT0gYmFzZUNscykge1xuICAgICAgcHJvdmlkZXJzLnB1c2goeyBwcm92aWRlOiBUaENhbWVyYSwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gY2xzKSB9KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiB1c2FnZTpcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICBwcm92aWRlcnM6IGNyZWF0ZU9iajNEUHJvdmlkZXJBcnJheShmb3J3YXJkUmVmKCgpID0+IFRoZUNvbXBvbmVudCkpKVxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBUaGVDb21wb25lbnQge1xuICogLi4uXG4gKiB9XG4gKiBAcGFyYW0gdHlwZSB0aGUgT2JqZWN0M0QgZGVyaXZlZCBDbGFzcyB0byBiZSBwcm92aWRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT2JqM0RQcm92aWRlckFycmF5KHR5cGU6IFR5cGU8YW55Pikge1xuICByZXR1cm4gW3sgcHJvdmlkZTogVGhPYmplY3QzRCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gdHlwZSkgfV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW1lcmFQcm92aWRlckFycmF5KHR5cGU6IFR5cGU8YW55Pikge1xuICByZXR1cm4gW1xuICAgIHsgcHJvdmlkZTogVGhPYmplY3QzRCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gdHlwZSkgfSxcbiAgICB7IHByb3ZpZGU6IFRoQ2FtZXJhLCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiB0eXBlKSB9XG4gIF07XG59XG4iXX0=